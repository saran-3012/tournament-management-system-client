<div class="tournament-schedule-card-info-box">
    <div class="tournament-schedule-card-info">
        <div class="tournament-schedule-card-info-title">
            <strong class="ft-lg wt-500 ft-night-black">{{tournament-event-round schedule.tournamentEventRound}}</strong>
            {{#if (or (instance-gt schedule.tournamentEventDate) (gt schedule.tournamentEventStatus 0))}}
                <div class="tournament-schedule-status-box">
                    <div class="tournament-schedule-status-indicator {{if (eq schedule.tournamentEventStatus 0) 'bg-blue' (if (eq schedule.tournamentEventStatus 1) 'bg-light-grey' 'bg-red')}}"></div>
                    <span class="ft-sm wt-300 ft-night-black">{{if (eq schedule.tournamentEventStatus 0) 'Live' (if (eq schedule.tournamentEventStatus 1) 'Completed' 'Cancelled')}}</span>
                </div>
            {{/if}}
        </div>
        {{icon-label-item itemIconClass='icon-sm' iconUrl='images/calander-icon.svg' itemLabelClass='ft-night-black' itemLabel='On Date :' itemValueClass='ft-dark-grey wt-300' itemValue=(millis-to-date schedule.tournamentEventDate)}}
        {{icon-label-item itemIconClass='icon-sm' iconUrl='images/location-icon.svg' itemLabelClass='ft-night-black' itemLabel='On Venue :' itemValueClass='ft-dark-grey wt-300' itemValue=schedule.tournamentEventVenue}}
    </div>
    <div class="tournament-schedule-card-buttons">
        <div class="tournament-schedule-card-button-box">
            {{#if (and (not hideControls) (n-eq schedule.tournamentEventStatus 1))}}
                {{#if (instance-lt schedule.tournamentEventDate (instance-lt schedule.tournamentEventDate))}}
                    {{#if (eq schedule.tournamentEventStatus 0)}}
                        {{#general-button class='br-transparent bg-transparent ft-blue circle ft-xs pd-sq icon-sm' isSVG=true title='Edit event schedule' onClick=(action 'openSchedulePopup' 2)}}
                            <svg xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 512 512" xml:space="preserve" >
                                <path d="M35.86 512A35.94 35.94 0 0 1 .31 471.39l12.84-98.12a40.81 40.81 0 0 1 11.56-23.47L363 11.51a39.42 39.42 0 0 1 55.67 0l81.82 81.82a39.42 39.42 0 0 1 0 55.67L162.2 487.29a40.78 40.78 0 0 1-23.47 11.56l-98.12 12.84a36.31 36.31 0 0 1-4.75.31zm26.45-129.09-10.05 76.83 76.83-10.05 328.52-328.52-66.78-66.78z" fill="currentColor" opacity="1" data-original="#000000" />
                                <path d="M406.86 232.28a24.93 24.93 0 0 1-17.68-7.28L287 122.82a25 25 0 0 1 35.4-35.36L424.54 189.6a25 25 0 0 1-17.68 42.68z" fill="currentColor" opacity="1" data-original="#000000" />
                            </svg>
                        {{/general-button}}
                        {{#general-button class='br-transparent bg-transparent ft-red circle pd-sq icon-sm' isSVG=true title='Cancel event schedule' onClick=(action 'openSchedulePopup' 3)}}
                            <svg xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 512.001 512.001" xml:space="preserve" >
                                <g>
                                    <path d="M284.286 256.002 506.143 34.144c7.811-7.811 7.811-20.475 0-28.285-7.811-7.81-20.475-7.811-28.285 0L256 227.717 34.143 5.859c-7.811-7.811-20.475-7.811-28.285 0-7.81 7.811-7.811 20.475 0 28.285l221.857 221.857L5.858 477.859c-7.811 7.811-7.811 20.475 0 28.285a19.938 19.938 0 0 0 14.143 5.857 19.94 19.94 0 0 0 14.143-5.857L256 284.287l221.857 221.857c3.905 3.905 9.024 5.857 14.143 5.857s10.237-1.952 14.143-5.857c7.811-7.811 7.811-20.475 0-28.285L284.286 256.002z" fill="currentColor" opacity="1" data-original="#000000" />
                                </g>
                            </svg>
                        {{/general-button}}
                    {{else if (eq schedule.tournamentEventStatus 2)}}
                        {{#general-button class='br-transparent bg-transparent ft-green circle pd-sq ' isSVG=true title='Reshedule event' onClick=(action 'openSchedulePopup' 3)}}
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99" />
                            </svg>
                        {{/general-button}}
                    {{/if}}
                {{else}}
                    {{general-button class='br-blue bg-blue ft-white pd-sq soft-corner' buttonName='Publish Result' onClick=(action 'openSchedulePopup' 4)}}
                {{/if}}
            {{/if}}
            {{#if linkTournament}}
                {{#link-to 'tournaments.tournament' schedule.tournamentId class='no-decoration'}}
                    {{#general-button class='br-transparent bg-transparent ft-blue circle pd-sq' isSVG=true title='View Tournament'}}
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25" />
                        </svg>
                    {{/general-button}}
                {{/link-to}}
            {{/if}}
        </div>
        {{#general-button class='br-grey bg-transparent ft-grey curved icon-xs pd-sm rrev' isSVG=true buttonName=(if (eq tournament.sportType 0) 'Participants' 'Teams') onClick=(action 'toggleContestantsPanelOpen')}}
            {{#if isContestantsPanelOpen}}
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2.5" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" d="m4.5 15.75 7.5-7.5 7.5 7.5" />
                </svg>
            {{else}}
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2.5" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" d="m19.5 8.25-7.5 7.5-7.5-7.5" />
                </svg>
            {{/if}}
        {{/general-button}}
    </div>
</div>
{{#if isContestantsPanelOpen}}
    <div class="event-contestansts-wrapper">
        {{#if (eq tournament.sportType 0)}}
            {{#unless (is-empty participants)}}
                {{#each participants as |participant|}}
                    {{participant-card class=(if (eq participant.participantId schedule.tournamentEventWinnerId) 'winning-contestant' '') participant=participant refreshModel=(action 'reloadContestants')}}
                {{/each}}
            {{else}}
                <p>No participants registered yet</p>
            {{/unless}}
        {{else if (eq tournament.sportType 1)}}
            {{#unless (is-empty teams)}}
                {{#each teams as |team|}}
                    {{team-card class=(if (eq team.teamId schedule.tournamentEventWinnerId) 'winning-contestant' '') team=team refreshModel=(action 'reloadContestants')}}
                {{/each}}
            {{else}}
                <p>No teams registered yet</p>
            {{/unless}}
        {{/if}}
    </div>
{{/if}}
{{yield}}
