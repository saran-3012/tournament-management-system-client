<section class="container section profile">
    <div class="profile-bg-image-box">
        <img class='profile-bg-image' src={{prepend-root user.profileBackgroundUrl}} alt="Background image">
    </div>
    <div class="profile-container">
        <div class="profile-info-container">
            {{user-card class='bg-white br-light-grey' user=user hideMenu=true}}
        </div>
        <div class="profile-details-container">
            <table class="profile-details-box">
                <tr>
                    <th>
                        <div>
                            <strong class="ft-xl wt-500 ft-black">Personal Details</strong>
                            {{#general-button class='br-transparent bg-transparent ft-blue circle pd-sq icon-sm' isSVG=true title='Edit profile' onClick=(action 'setEditProfileFromOpen' true)}}
                                <svg xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 512 512" xml:space="preserve" >
                                    <path d="M35.86 512A35.94 35.94 0 0 1 .31 471.39l12.84-98.12a40.81 40.81 0 0 1 11.56-23.47L363 11.51a39.42 39.42 0 0 1 55.67 0l81.82 81.82a39.42 39.42 0 0 1 0 55.67L162.2 487.29a40.78 40.78 0 0 1-23.47 11.56l-98.12 12.84a36.31 36.31 0 0 1-4.75.31zm26.45-129.09-10.05 76.83 76.83-10.05 328.52-328.52-66.78-66.78z" fill="currentColor" opacity="1" data-original="#000000" />
                                    <path d="M406.86 232.28a24.93 24.93 0 0 1-17.68-7.28L287 122.82a25 25 0 0 1 35.4-35.36L424.54 189.6a25 25 0 0 1-17.68 42.68z" fill="currentColor" opacity="1" data-original="#000000" />
                                </svg>
                            {{/general-button}}
                        </div>
                    </th>
                </tr>
                <tr>
                    <th>Full Name</th>
                    <td>{{user.userName}}</td>
                </tr>
                <tr>
                    <th>Gender</th>
                    <td>{{compute-gender user.gender}}</td>
                </tr>
                <tr>
                    <th>Date of birth</th>
                    <td>{{millis-to-date user.dateOfBirth}}</td>
                </tr>
                <tr>
                    <th>Blood Group</th>
                    <td>{{if user.bloodGroup (concat user.bloodGroup 'Ve') '-' }}</td>
                </tr>
                <tr>
                    <th>Phone Number</th>
                    <td>{{user.phoneNumber}}</td>
                </tr>
                <tr>
                    <th>Address</th>
                    <td>{{or user.address '-'}}</td>
                </tr>
            </table>
        </div>
    </div>



    {{#general-button class='br-light-grey bg-transparent ft-light-grey curved back-btn' buttonName='Back' isSVG=true onClick=(action 'goBack')}}
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" d="M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18" />
        </svg>
    {{/general-button}}
</section>

{{#if editProfileFormOpen}}
    {{organization-user-form editProfileFormOpen=editProfileFormOpen user=user closeOrganizationUserForm=(action 'setEditProfileFromOpen' false) switchChangePasswordFormOpen=(action 'setChangePasswordFormOpen' true) refreshModel=(action 'refreshModel')}}
{{else if changePasswordFormOpen}}
    {{organization-user-form changePasswordFormOpen=changePasswordFormOpen user=user closeOrganizationUserForm=(action 'setChangePasswordFormOpen' false) switchEditProfileFromOpen=(action 'setEditProfileFromOpen' true) refreshModel=(action 'refreshModel')}}
{{/if}}

{{outlet}}
